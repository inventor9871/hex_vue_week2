import{c as l,o as d,F as v,b as h,a as t,t as s,e as g,d as w,r as m,g as f,f as C,h as y,w as x,i as I,v as P}from"./index-qD20TkA-.js";const N={class:"list-group"},U=["onClick"],B={class:"d-flex w-100 justify-content-between"},M={class:"mb-1"},S={class:"mb-1"},j={__name:"ProductsList",props:["data"],emits:["addItem"],setup(p,{emit:c}){const n=c;return(r,b)=>(d(),l("div",N,[(d(!0),l(v,null,h(p.data,u=>(d(),l("a",{"href.prevent":"#",class:"list-group-item list-group-item-action",key:u.id,onClick:$=>n("addItem",u)},[t("div",B,[t("h5",M,s(u.name),1),t("small",null,"$"+s(u.price),1)]),t("p",S,s(u.description),1)],8,U))),128))]))}},D={key:0,class:"row justify-content-center"},F={class:"col-8"},L={class:"card"},O={class:"card-body"},Q={class:"card-title"},A={class:"table"},E={class:"text-end"},W={__name:"ProductOrder",props:["order"],setup(p){return(c,n)=>p.order.drinks.length>0?(d(),l("div",D,[t("div",F,[t("div",L,[t("div",O,[t("div",Q,[n[2]||(n[2]=t("h5",null,"訂單",-1)),t("table",A,[n[0]||(n[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"數量"),t("th",{scope:"col"},"小計"),t("th",{scope:"col"},"備註")])],-1)),t("tbody",null,[(d(!0),l(v,null,h(p.order.drinks,r=>(d(),l("tr",{key:r.id},[t("td",null,s(r.name),1),t("td",null,s(r.amount),1),t("td",null,s(r.subTotal),1),t("td",null,[t("span",null,s(r.note),1)])]))),128))])]),t("div",E,[t("h5",null,[n[1]||(n[1]=w("總計: ",-1)),t("span",null,"$"+s(p.order.totalPrice),1)])])])])])])])):g("",!0)}},q={id:"root"},z={class:"container mt-5"},G={class:"row"},H={class:"col-md-4"},J={class:"col-md-8"},K={class:"table"},R=["onClick"],X=["onUpdate:modelValue"],Y=["value"],Z={colspan:"6"},tt=["onUpdate:modelValue"],et={class:"text-end mb-3"},st={__name:"Week3View",setup(p){const c=m({drinks:[],note:"",totalPrice:0}),n=m(""),r=()=>{c.value.drinks=_.value,c.value.note=n.value,c.value.totalPrice=f(()=>c.value.drinks.reduce((o,e)=>o+e.subTotal,0)),_.value=[],n.value=""},b=m(0);b.value=f(()=>_.value.reduce((o,e)=>o+e.subTotal,0));const u=o=>(o.subTotal=o.amount*o.price,o.amount*o.price),$=o=>{_.value.splice(o,1)},_=m([]),V=o=>{const e={...o,amount:1,subTotal:0,note:""};e.subTotal=(e.amount,e.price),_.value.push(e)},k=m([]);return C(()=>{k.value=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]}),(o,e)=>(d(),l("div",q,[t("div",z,[t("div",G,[t("div",H,[y(j,{data:k.value,onAddItem:V},null,8,["data"])]),t("div",J,[t("table",K,[e[0]||(e[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col",width:"50"},"操作"),t("th",{scope:"col"},"品項"),t("th",{scope:"col"},"描述"),t("th",{scope:"col",width:"90"},"數量"),t("th",{scope:"col"},"單價"),t("th",{scope:"col"},"小計")])],-1)),t("tbody",null,[(d(!0),l(v,null,h(_.value,(a,T)=>(d(),l(v,{key:a.id},[t("tr",null,[t("td",null,[t("button",{type:"button",class:"btn btn-sm",onClick:i=>$(T)},"x",8,R)]),t("td",null,s(a.name),1),t("td",null,[t("small",null,s(a.description),1)]),t("td",null,[x(t("select",{class:"form-select","onUpdate:modelValue":i=>a.amount=i},[(d(),l(v,null,h(10,i=>t("option",{value:i,key:i},s(i),9,Y)),64))],8,X),[[I,a.amount]])]),t("td",null,s(a.price),1),t("td",null,s(u(a)),1)]),t("tr",null,[t("td",Z,[x(t("textarea",{class:"form-control mb-3",rows:"1",placeholder:"備註","onUpdate:modelValue":i=>a.note=i},null,8,tt),[[P,a.note]])])])],64))),128))])]),t("div",et,[t("h5",null,[e[1]||(e[1]=w("總計: ",-1)),t("span",null,"$"+s(b.value),1)])]),t("div",{class:"text-end"},[t("button",{class:"btn btn-primary",onClick:r},"送出")])])]),e[2]||(e[2]=t("hr",null,null,-1)),y(W,{order:c.value},null,8,["order"])])]))}};export{st as default};
