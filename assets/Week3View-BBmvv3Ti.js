import{c as l,o as a,F as m,b as h,a as e,t as s,e as P,d as y,r as _,g as C,f as U,h as w,w as k,i as g}from"./index-CQ5cnoJL.js";const N={class:"list-group"},S=["onClick"],B={class:"d-flex w-100 justify-content-between"},j={class:"mb-1"},D={class:"mb-1"},F={__name:"ProductsList",props:["data"],emits:["addItem"],setup(v,{emit:u}){const d=u;return(i,b)=>(a(),l("div",N,[(a(!0),l(m,null,h(v.data,p=>(a(),l("a",{"href.prevent":"#",class:"list-group-item list-group-item-action",key:p.id,onClick:f=>d("addItem",p)},[e("div",B,[e("h5",j,s(p.name),1),e("small",null,"$"+s(p.price),1)]),e("p",D,s(p.description),1)],8,S))),128))]))}},L={key:0,class:"row justify-content-center"},M={class:"col-8"},O={class:"card"},Q={class:"card-body"},A={class:"card-title"},E={class:"table"},W={class:"text-end"},q={__name:"ProductOrder",props:["order"],setup(v){return(u,d)=>v.order.drinks.length>0?(a(),l("div",L,[e("div",M,[e("div",O,[e("div",Q,[e("div",A,[d[2]||(d[2]=e("h5",null,"訂單",-1)),e("table",E,[d[0]||(d[0]=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計"),e("th",{scope:"col"},"備註")])],-1)),e("tbody",null,[(a(!0),l(m,null,h(v.order.drinks,i=>(a(),l("tr",{key:i.id},[e("td",null,s(i.name),1),e("td",null,s(i.amount),1),e("td",null,s(i.subTotal),1),e("td",null,[e("span",null,s(i.note),1)])]))),128))])]),e("div",W,[e("h5",null,[d[1]||(d[1]=y("總計: ",-1)),e("span",null,"$"+s(v.order.totalPrice),1)])])])])])])])):P("",!0)}},z={id:"root"},G={class:"container mt-5"},H={class:"row"},J={class:"col-md-4"},K={class:"col-md-8"},R={key:0},X={class:"table"},Y=["onClick"],Z=["onUpdate:modelValue"],ee=["value"],te={colspan:"6"},oe=["onUpdate:modelValue","onChange"],se=["onUpdate:modelValue","onChange"],ne={class:"text-end mb-3"},le={key:1,class:"alert alert-success"},de={__name:"Week3View",setup(v){const u=_({drinks:[],note:"",totalPrice:0}),d=_(""),i=()=>{u.value.drinks=c.value,u.value.note=d.value,u.value.totalPrice=C(()=>u.value.drinks.reduce((o,t)=>o+t.subTotal,0)),c.value=[],d.value=""},b=_(0);b.value=C(()=>c.value.reduce((o,t)=>o+t.subTotal,0));const p=o=>{c.value[o].note+=c.value[o].ice+" | "},f=o=>{c.value[o].note+=c.value[o].sugar+" | "},I=o=>(o.subTotal=o.amount*o.price,o.amount*o.price),T=o=>{c.value.splice(o,1)},c=_([]),x=o=>{const t={...o,amount:1,subTotal:0,note:"",ice:"",sugar:""};t.subTotal=(t.amount,t.price),c.value.push(t)},V=_([]);return U(()=>{V.value=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]}),(o,t)=>(a(),l("div",z,[e("div",G,[e("div",H,[e("div",J,[w(F,{data:V.value,onAddItem:x},null,8,["data"])]),e("div",K,[c.value.length>0?(a(),l("div",R,[e("table",X,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1)),e("tbody",null,[(a(!0),l(m,null,h(c.value,(r,$)=>(a(),l(m,{key:r.id},[e("tr",null,[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:n=>T($)},"x",8,Y)]),e("td",null,s(r.name),1),e("td",null,[e("small",null,s(r.description),1)]),e("td",null,[k(e("select",{class:"form-select","onUpdate:modelValue":n=>r.amount=n},[(a(),l(m,null,h(10,n=>e("option",{value:n,key:n},s(n),9,ee)),64))],8,Z),[[g,r.amount]])]),e("td",null,s(r.price),1),e("td",null,s(I(r)),1)]),e("tr",null,[e("td",te,[k(e("select",{name:"ice",class:"form-select","onUpdate:modelValue":n=>r.ice=n,onChange:n=>p($)},t[0]||(t[0]=[e("option",{value:"",disabled:"",selected:""},"冰塊選項",-1),e("option",{value:"少點冰"},"少點冰",-1),e("option",{value:"去冰"},"去冰",-1)]),40,oe),[[g,r.ice]]),t[2]||(t[2]=y(" | ",-1)),k(e("select",{name:"sugar",class:"form-select","onUpdate:modelValue":n=>r.sugar=n,onChange:n=>f($)},t[1]||(t[1]=[e("option",{value:"",disabled:"",selected:""},"糖分選項",-1),e("option",{value:"少點糖"},"少點糖",-1),e("option",{value:"半糖"},"半糖",-1)]),40,se),[[g,r.sugar]])])])],64))),128))])]),e("div",ne,[e("h5",null,[t[4]||(t[4]=y("總計: ",-1)),e("span",null,"$"+s(b.value),1)])]),e("div",{class:"text-end"},[e("button",{class:"btn btn-primary",onClick:i},"送出")])])):(a(),l("div",le," 尚未選取飲品 "))])]),t[5]||(t[5]=e("hr",null,null,-1)),w(q,{order:u.value},null,8,["order"])])]))}};export{de as default};
